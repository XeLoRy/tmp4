backend:
  name: git-gateway
  branch: main

# Pour le développement local, décommenter cette ligne :
# local_backend: true

media_folder: public/images
public_folder: /images

locale: fr

collections:
  # Équipe
  - name: "equipe"
    label: "Équipe"
    folder: "content/equipe"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Nom", name: "nom", widget: "string" }
      - { label: "Rôle", name: "role", widget: "string", default: "Colistier" }
      - { label: "Profession", name: "profession", widget: "string" }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Motivation", name: "motivation", widget: "text" }
      - { label: "Ordre d'affichage", name: "ordre", widget: "number", default: 10 }
      - label: "Position sur photo de groupe"
        name: "position"
        widget: "object"
        fields:
          - { label: "X (%)", name: "x", widget: "number", default: 50 }
          - { label: "Y (%)", name: "y", widget: "number", default: 50 }

  # Thématiques
  - name: "thematiques"
    label: "Thématiques"
    folder: "content/thematiques"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Icône (emoji)", name: "icon", widget: "string" }
      - { label: "Description courte", name: "description", widget: "string" }
      - { label: "Ordre", name: "ordre", widget: "number", default: 1 }
      - label: "Engagements"
        name: "engagements"
        widget: "list"
        field: { label: "Engagement", name: "engagement", widget: "string" }
      - { label: "Contenu détaillé", name: "body", widget: "markdown", required: false }

  # Actualités
  - name: "actus"
    label: "Actualités"
    folder: "content/actus"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Titre", name: "title", widget: "string" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Image", name: "image", widget: "image", required: false }
      - { label: "Catégorie", name: "category", widget: "select", options: ["Événement", "Communiqué", "Terrain", "Programme"] }
      - { label: "Extrait", name: "excerpt", widget: "text" }
      - { label: "Contenu", name: "body", widget: "markdown" }

  # Pages
  - name: "pages"
    label: "Pages"
    files:
      - label: "Accueil"
        name: "accueil"
        file: "content/pages/accueil.md"
        fields:
          - { label: "Titre hero", name: "heroTitle", widget: "string" }
          - { label: "Citation candidat", name: "heroCitation", widget: "text" }
          - { label: "Texte engagement", name: "engagementTexte", widget: "text" }

      - label: "À propos"
        name: "apropos"
        file: "content/pages/apropos.md"
        fields:
          - { label: "Titre", name: "title", widget: "string" }
          - { label: "Contenu", name: "body", widget: "markdown" }

  # Configuration générale
  - name: "config"
    label: "Configuration"
    files:
      - label: "Informations générales"
        name: "site"
        file: "content/config/site.md"
        fields:
          - { label: "Nom de la liste", name: "nomListe", widget: "string" }
          - { label: "Slogan", name: "slogan", widget: "string" }
          - { label: "Email de contact", name: "email", widget: "string" }
          - { label: "Lien HelloAsso", name: "helloasso", widget: "string", required: false }
          - { label: "Photo de groupe", name: "photoGroupe", widget: "image", required: false }
